#
# Cpack NSIS configuration for Windows
#
set(FLDIGI_NAME "Fldigi")
set(FLDIGI_BIN "@CPACK_PACKAGE_FILE_NAME@//@CMAKE_INSTALL_BINDIR@//fldigi.exe")
set(FLARQ_NAME "Flarq")
set(FLARQ_BIN "@CPACK_PACKAGE_FILE_NAME@/@CMAKE_INSTALL_BINDIR@/flarq.exe")
set(LOCALEDIR "@CPACK_PACKAGE_FILE_NAME@/@CMAKE_INSTALL_LOCALEDIR@")
set(RUNTIMES "@CPACK_PACKAGE_FILE_NAME@/@CMAKE_INSTALL_BINDIR@/*.dll")

set(CPACK_PACKAGE_FILE_NAME "${PACKAGE_TARNAME}-${PACKAGE_VERSION}_setup")
set(INSTALLER_FILE "${CPACK_PACKAGE_FILE_NAME}.exe")
if(WANT_FLDIGI)
    set(HAVE_FLDIGI TRUE)
    set(CPACK_PACKAGE_VERSION_MAJOR ${FLDIGI_VERSION_MAJOR})
    set(CPACK_PACKAGE_VERSION_MINOR ${FLDIGI_VERSION_MINOR})
    set(CPACK_PACKAGE_VERSION_PATCH ${FLDIGI_VERSION_PATCH_NODOT})
else()
    set(CPACK_PACKAGE_VERSION_MAJOR ${FLARQ_VERSION_MAJOR})
    set(CPACK_PACKAGE_VERSION_MINOR ${FLARQ_VERSION_MINOR})
    set(CPACK_PACKAGE_VERSION_PATCH ${FLARQ_VERSION_PATCH_NODOT})
endif()
if(WANT_FLARQ)
    set(HAVE_FLARQ TRUE)
endif()
configure_file(cmake/NSIS.template.in.in cmake/NSIS.template.in @ONLY)
